(this["webpackJsonpsimple-weather-app"]=this["webpackJsonpsimple-weather-app"]||[]).push([[0],{42:function(e,t,a){},44:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(19),s=a.n(c),i=a(3),o=a.n(i),u=a(5),j=a(6),l=a(4),h=a(7),d=a.n(h),b=l.DateTime.now().toSeconds().toFixed(0)-86400,p=function(e){for(var t=parseInt(e),a=[],n=0;n<5;n++)a.push(t),t-=86400;return a},x=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p(b),n={currentWeatherData:[],historicalWeatherData:[]},e.prev=2,e.next=5,d.a.get("".concat("https://api.openweathermap.org/data/2.5","/weather?q=").concat(t,"&units=metric&appid=").concat("a3b38d6618c940cbb6fa276b682987de"));case 5:return r=e.sent,c=r.data.coord.lat,s=r.data.coord.lon,n.currentWeatherData=r.data,e.next=11,Promise.all(a.map(function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://api.openweathermap.org/data/2.5","/onecall/timemachine?lat=").concat(c,"&lon=").concat(s,"&units=metric&dt=").concat(t,"&appid=").concat("a3b38d6618c940cbb6fa276b682987de"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 11:n.historicalWeatherData=e.sent,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),O=a(8),m=(a(42),a(0)),f=function(){return Object(m.jsx)("span",{className:"loading"})},v=function(e){var t=e.day;return Object(m.jsx)("li",{children:Object(m.jsxs)("div",{className:"previous-day-weather",children:[Object(m.jsxs)("div",{className:"date-container",children:[Object(m.jsx)("span",{children:l.DateTime.fromSeconds(t.current.dt).toLocaleString({day:"numeric"})}),Object(m.jsx)("span",{children:l.DateTime.fromSeconds(t.current.dt).toLocaleString({weekday:"long"})})]}),Object(m.jsxs)("span",{children:[t.current.temp.toFixed(0),"\xb0C"]})]})})};function w(e){e.input;var t=e.handleSubmit,a=e.handleChange,n=e.historicalWeatherData,r=e.error;Object(O.a)(e,["input","handleSubmit","handleChange","historicalWeatherData","error"]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{className:"search-form",onSubmit:t,children:[Object(m.jsx)("input",{required:!0,pattern:"[a-zA-Z]+",placeholder:"Search a location",id:"search-input",onChange:function(e){return a(e.target.value)}}),Object(m.jsx)("input",{type:"submit",value:"Search",id:"submit-btn"})]}),!0===r&&Object(m.jsx)("div",{className:"error-container",children:Object(m.jsx)("h4",{children:"City not found"})}),Object(m.jsx)("h1",{children:"Weather.IO"}),Object(m.jsxs)("div",{className:"previous-weather-container",children:[Object(m.jsx)("p",{children:"Past 5 Days"}),Object(m.jsx)("hr",{}),Object(m.jsx)("ul",{children:void 0!==n?n.sort((function(e,t){return e.index-t.index})).map((function(e,t){return Object(m.jsx)(v,{index:t,day:e},t)})):Object(m.jsx)(f,{})})]})]})}a(44);var g=function(){return Object(m.jsx)("span",{className:"loading"})};function D(e){var t=e.currentWeatherData,a=e.handleReset,n=(Object(O.a)(e,["currentWeatherData","handleReset"]),t.name),r=t.main,c=t.weather,s=t.wind,i=t.visibility;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"title-container",children:[Object(m.jsxs)("div",{className:"title-top-container",children:[Object(m.jsx)("p",{children:l.DateTime.now().toLocaleString(l.DateTime.DATE_MED)}),Object(m.jsx)("button",{className:"reset-btn",onClick:a,children:"Reset"})]}),Object(m.jsx)("h1",{children:n||Object(m.jsx)(g,{})})]}),Object(m.jsxs)("div",{className:"center-weather-info",children:[Object(m.jsxs)("h1",{children:[r?r.temp.toFixed(0):Object(m.jsx)(g,{}),"\xb0C"]}),Object(m.jsx)("p",{style:{textTransform:"capitalize"},children:c?c[0].description:Object(m.jsx)(g,{})}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:["High. ",r?r.temp_max.toFixed(0):Object(m.jsx)(g,{}),"\xb0C"]}),Object(m.jsxs)("li",{children:["Feels Like ",r?r.feels_like.toFixed(0):Object(m.jsx)(g,{}),"\xb0C"]}),Object(m.jsxs)("li",{children:["Low. ",r?r.temp_min.toFixed(0):Object(m.jsx)(g,{}),"\xb0C"]})]})]}),Object(m.jsx)("div",{className:"bottom-weather-info",children:Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("h5",{children:"Pressure"}),Object(m.jsxs)("span",{children:[r?r.pressure:Object(m.jsx)(g,{})," MB"]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("h5",{children:"Humidity"}),Object(m.jsxs)("span",{children:[r?r.humidity:Object(m.jsx)(g,{})," %"]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("h5",{children:"Wind"}),Object(m.jsxs)("span",{children:[s?s.speed:Object(m.jsx)(g,{})," km/h"]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("h5",{children:"Visibility"}),Object(m.jsxs)("span",{children:[i?parseInt(i):Object(m.jsx)(g,{})," km"]})]})]})})]})}a(45).config();function W(e){return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"container-left",children:e.left}),Object(m.jsx)("div",{className:"container-right",children:e.right})]})}var S=function(){var e=l.DateTime.now().toSeconds().toFixed(0)-86400,t=Object(n.useState)(function(e){for(var t=parseInt(e),a=[],n=0;n<5;n++)a.push(t),t-=86400;return a}(e)),a=Object(j.a)(t,2),r=a[0],c=(a[1],Object(n.useState)([])),s=Object(j.a)(c,2),i=s[0],h=s[1],b=Object(n.useState)([]),p=Object(j.a)(b,2),O=p[0],f=p[1],v=Object(n.useState)({currentWeatherData:[],historicalWeatherData:[]}),g=Object(j.a)(v,2),S=g[0],y=g[1],N=Object(n.useState)(!1),k=Object(j.a)(N,2),C=k[0],F=k[1],T=Object(n.useState)(""),I=Object(j.a)(T,2),L=I[0],P=I[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.geolocation.getCurrentPosition((function(e){h(e.coords.latitude),f(e.coords.longitude)})),e.next=3,d.a.get("".concat("https://api.openweathermap.org/data/2.5","/weather?lat=").concat(i,"&lon=").concat(O,"&units=metric&appid=").concat("a3b38d6618c940cbb6fa276b682987de"));case 3:return t=e.sent,e.next=6,Promise.all(r.map(function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://api.openweathermap.org/data/2.5","/onecall/timemachine?lat=").concat(i,"&lon=").concat(O,"&units=metric&dt=").concat(t,"&appid=").concat("a3b38d6618c940cbb6fa276b682987de"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 6:a=e.sent,y({currentWeatherData:t.data,historicalWeatherData:a});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,O]);var E=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=L,e.next=4,x(a);case 4:if(404!==(n=e.sent).status){e.next=10;break}return F(!0),e.abrupt("return");case 10:F(!1),y({currentWeatherData:n.currentWeatherData,historicalWeatherData:n.historicalWeatherData});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"app",children:Object(m.jsx)(W,{left:Object(m.jsx)(D,{currentWeatherData:S.currentWeatherData,handleReset:function(){window.location.reload()}}),right:Object(m.jsx)(w,{input:L,historicalWeatherData:S.historicalWeatherData,handleSubmit:E,handleChange:function(e){P(e)},error:C})})})};a(48);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.59989c27.chunk.js.map